<html>
	<head>
		<style>
			body.vscode-dark .st0{fill:#FFFFFF;}
			body.vscode-dark .st1{fill:#09A6E0;}
			body .st0{fill:#09A6E0;}
			body .st1{fill:#09A6E0;}

			.hcontainer {
				height: 100%;
				display: flex;
			}

			.hitem {
				height: 100%;
				width: 100px; /* A fixed width as the default */
			}

			.hitem-center { 
				flex-grow: 1; /* Set the middle element to grow and stretch */
			}

			.hitem + .hitem { 
				margin-left: 2%; 
			}

			.vcontainer {
				display: flex;
				flex-direction: column;
				align-items: center;
			}

			.vitem {
				height: auto;
				margin-bottom: 10px;
			}

			.commands {
				display: flex;
				flex-direction: column;
				align-items: center;
			}

			.command {
				width: 100%;
				height: 40px;
				margin-bottom: 10px;
				display: block;
				background-color: rgba(0, 0, 0, 0.2);
			}

			.command:hover {
				background-color: rgba(0, 0, 0, 0.3);
			}

			body.vscode-dark .command:hover{
				background-color: rgba(255,255,255, .1);
			}

			.command span {
				display: block;
			}
		</style>
	</head>
	<body>
		<div class="hcontainer">
			<div class="hitem"></div>
			<div class="hitem hitem-center vcontainer">
				<div class="vitem">
					<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						viewBox="0 0 290.6 67.6" style="enable-background:new 0 0 290.6 67.6;" xml:space="preserve" width="40vw">
						<style type="text/css">
						</style>
						<g>
							<path class="st0" d="M104.1,22.9c-0.9-1.2-2.1-2.1-3.6-2.8c-1.5-0.7-2.9-1-4.3-1c-0.7,0-1.4,0.1-2.2,0.2c-0.7,0.1-1.4,0.4-2,0.7
								c-0.6,0.4-1.1,0.8-1.5,1.4s-0.6,1.3-0.6,2.2c0,0.8,0.2,1.4,0.5,1.9s0.8,0.9,1.4,1.3c0.6,0.4,1.3,0.7,2.2,1c0.8,0.3,1.8,0.6,2.8,1
								c1.5,0.5,3.1,1.1,4.7,1.7c1.6,0.6,3.1,1.4,4.5,2.4c1.3,1,2.5,2.3,3.3,3.8c0.9,1.5,1.3,3.4,1.3,5.6c0,2.6-0.5,4.8-1.4,6.7
								c-0.9,1.9-2.2,3.4-3.8,4.6s-3.4,2.1-5.5,2.7s-4.2,0.9-6.4,0.9c-3.2,0-6.3-0.6-9.3-1.7s-5.5-2.7-7.5-4.8l7.1-7.2
								c1.1,1.3,2.5,2.5,4.3,3.4s3.6,1.4,5.3,1.4c0.8,0,1.6-0.1,2.3-0.3c0.8-0.2,1.4-0.4,2-0.8s1-0.9,1.4-1.5c0.3-0.6,0.5-1.4,0.5-2.3
								c0-0.8-0.2-1.6-0.6-2.1c-0.4-0.6-1-1.1-1.8-1.6s-1.7-0.9-2.9-1.3s-2.5-0.8-3.9-1.3s-2.8-1-4.2-1.6s-2.6-1.4-3.7-2.4
								c-1.1-1-1.9-2.2-2.6-3.6c-0.7-1.4-1-3.1-1-5.1c0-2.5,0.5-4.6,1.5-6.4s2.3-3.2,4-4.4c1.6-1.1,3.5-2,5.6-2.5s4.1-0.8,6.3-0.8
								c2.5,0,5.1,0.5,7.7,1.4c2.6,0.9,4.9,2.3,6.9,4.1L104.1,22.9z"/>
							<path class="st0" d="M120.3,56V11.3h10.9V56H120.3z"/>
							<path class="st0" d="M182.2,56l0.3-31.6h-0.2L170.7,56h-7.6l-11.3-31.6h-0.2l0.3,31.6h-10.2V11.3h15.4L167.3,40h0.3l9.7-28.7h15.6
								V56H182.2z"/>
							<path class="st0" d="M238.1,43c0,2.4-0.5,4.5-1.5,6.2s-2.3,3-3.9,4c-1.6,1-3.4,1.7-5.5,2.2c-2,0.4-4.1,0.7-6.3,0.7h-17.8V11.4h17.8
								c1.7,0,3.5,0.2,5.3,0.5c1.8,0.4,3.5,1,4.9,1.8c1.5,0.9,2.7,2,3.6,3.5c0.9,1.5,1.4,3.3,1.4,5.6c0,2.5-0.7,4.5-2,6.2
								c-1.3,1.6-3.1,2.8-5.3,3.5v0.1c1.3,0.2,2.5,0.6,3.6,1.2s2.1,1.3,2.9,2.2c0.8,0.9,1.5,1.9,2,3.1C237.8,40.2,238.1,41.5,238.1,43z
									M225.8,24.3c0-1.5-0.6-2.6-1.7-3.3c-1.2-0.7-2.9-1-5.1-1h-5.3v9.2h5.8c2,0,3.6-0.4,4.7-1.2C225.3,27.1,225.8,25.9,225.8,24.3z
									M227.3,42c0-1.9-0.7-3.1-2.1-3.9c-1.4-0.7-3.2-1.1-5.6-1.1h-6v10.2h6.1c0.8,0,1.7-0.1,2.6-0.2c0.9-0.1,1.7-0.4,2.5-0.8
								c0.7-0.4,1.3-0.9,1.8-1.6C227.1,44,227.3,43.1,227.3,42z"/>
							<path class="st0" d="M278.4,56l-3.5-8.8h-17.3l-3.3,8.8h-11.7l18.8-44.7h10.5L290.5,56H278.4z M266.4,23.3l-5.7,15.3h11.2
								L266.4,23.3z"/>
						</g>
						<path class="st1" d="M63.6,17.8H25.3c-4.6,0-8.2,4-8.2,9c0,4.9,3.6,9,8.2,9h16.1c2.1,0,3.8,1.3,3.8,3.4s-1.7,3.4-3.8,3.4H25.3
							c-8.8,0-15.6-6.9-15.6-15.7c0-8.8,6.9-15.7,15.6-15.7h33.6C52.7,4.3,43.8,0,33.8,0C15.1,0,0,15.1,0,33.8c0,5.6,1.4,10.8,3.8,15.5H42
							c4.6,0,8.5-3.7,8.5-8.7s-3.9-9.2-8.5-9.2H25.9c-2.1,0-3.8-1.3-3.8-3.4s1.7-3.4,3.8-3.4H42c8.8,0,15.9,6.9,15.9,15.6
							S50.7,55.9,42,55.9H8.4l0,0l0,0L5.6,67.1l11.7-3.9c4.9,2.8,10.5,4.4,16.6,4.4c18.7,0,33.8-15.1,33.8-33.8
							C67.6,27.9,66.1,22.5,63.6,17.8z"/>
					</svg>
				</div>

				<div class="vitem">
					Welcome to the SIMBAChain Visual Studio Code plugin!

					<p><i>This plugin allows you to interact with the SIMBAChain Enterprise Platform (SEP) directly from VSCode.</i></p>

					<div class="commands">
						<div class="command loggedout" command="login">
							<span>Click here to log in and get started!</span>
						</div>
						<!-- <div class="command" command="bar">
							<span>[ICON] | This is another command that does stuff</span>
							<span>[ICON] | Click me to run, or type &lt;bar&gt;</span>
						</div>
						<div class="command" command="baz">
							<span>[ICON] | This is one more command that does stuff</span>
							<span>[ICON] | Click me to run, or type &lt;baz&gt;</span>
						</div> -->
					</div>

					<div class="usage loggedin">
						You can now navigate to the SIMBAChain icon on the left to view your SEP instance!
					</div>
				</div>

				<div class="vitem">
					<p class="showOnStartup">
						<input type="checkbox" id="showOnStartup" class="checkbox" checked="checked">
						<label class="caption" for="showOnStartup">Show this page on startup</label>
					</p>
				</div>
				<div class="vitem">
					<footer>
						<div>
							Having trouble with the extension? -
							<a href="https://github.com/SIMBAChain/simbachain-vscode-extension">Report an issue</a>
						</div>
					</footer>
				</div>
			</div>
			<div class="hitem"></div>
		</div>
		


		<script>

			(function() {
				const vscode = acquireVsCodeApi();
				const toggle = document.getElementById('showOnStartup');
				const loggedout_elements  = Array.from(document.getElementsByClassName('loggedout'));
				const loggedin_elements  = Array.from(document.getElementsByClassName('loggedin'));
				let loggedIn = false;

				function login(){
					Array.prototype.map.call(loggedout_elements, tag => {
						tag.style.display = 'none';
					})
					Array.prototype.map.call(loggedin_elements, tag => {
						tag.style.display = null;
					})
				}

				function logout(){
					Array.prototype.map.call(loggedout_elements, tag => {
						tag.style.display = null;
					})
					Array.prototype.map.call(loggedin_elements, tag => {
						tag.style.display = 'none';
					})
				}

				window.addEventListener('message', event => {
					console.log("Got Event!", JSON.stringify(event));
					const message = event.data; // The JSON data our extension sent

					switch (message.command) {
						case 'userIsLoggedIn':
							loggedIn = message.state;
							if(loggedIn){
								login();
							}else{
								logout();
							}
							break;
						case 'setShowOnStartup':
							toggle.checked = message.checked;
							break;
					}
				});

				toggle.addEventListener("change", function(event) {
					vscode.postMessage({ command: 'toggleShowPage', value: event.target.checked});
				});

				for (let element of document.getElementsByClassName('command')){
					if('command' in element.attributes){
						element.addEventListener('click', event=>{
							vscode.postMessage({ command: element.attributes.command.value});
						});
					}
				}

				vscode.postMessage({ command: 'loaded'});
			}())
		</script>
	</body>
</html>